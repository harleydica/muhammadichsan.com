---
title: 'Conditional Jump di x64, Mari kita bahas dan ulik'
summary: 'AWS IAM buat multiuser yang aman dan terorganisir dengan mudah, mari kita pelajari.'
featured: true
author_name: 'Muhammad Ichsanul Fadhil'
author_image: 'https://ik.imagekit.io/mlnzyx/tr:w-32,h-32/attachment/profile.webp'
published: '12/10/2022'
topics: ['x64']
keywords:
  [
    'conditional jump x64'
  ]
related: []
---

Ketika kita berkutik di dunia pemrograman pastinya kita akan bermain dengan operasi pengkondisian, yaitu if else dimana denganya kita bisa membandingkan 2 atau lebih nilai yang akan menghasilkan sebuah hasil yaitu kondisi salah atau benar dan kita memberikan aksi ke setiap kondisi tersebut.

At a high level languange kita akan menemukan berbagai syntax untuk melakukan operasi pengkondisian, ada yang menggunakan kurung buka ada juga yang menggunakan tab indent. Semua bahasa pemrograman mengadaptasi cara nya masing-masing untuk mencapai kemudahan penulisan kode yang efektif, namun...

Yap kembali lagi, walaupun syntax yang berbeda-beda tetapi yang dilakukan oleh CPU tetap saja itu yang dilakukanğŸ˜„, apasih yang dikerjakan oleh komputer saat kita melakukan operasi pengkondisian? okee untuk menjelaskanya hakikat dari *if else* (wedehh) mari kita berpindah ke x64 assembly.

Loh mengapa kok pakai assembly mas? bukanya ribet ya? nanti tau sendiri alasanya ğŸ¤£

## If Else di x64 Assembly

Ketika kita ingin melakukan pengkondisian di assembly tentunya kita harus lebih bekerja keras 3 kali lipat untuk menulis kode, mengapa demikian? mari lihat kode di bawah ini.

Ini merupakan if else atau operasi pengkondisian di bahasa C.

```c 
int main () {

   int a = 100;
 
   if( a < 20 ) {
    ...
   } else {
    ...
   }
}
```

Dan coba bandingkan dengan menggunakan assembly.

```nasm
 cmp    ax, bx      
 je     Less  
 mov    word [X], 1    
 jmp    Both            
Less: 
 mov    word [X], -1  
Both:
```

Bagaimana? sangat asing bukan ğŸ¤£?

Yaa anda harus bersiap menerima kenyataan bahwa kode if else yang anda tulis dengan mudahnya ternyata sangat ruwet dan ribet sekali di belakangnya (wkwk), ya memang itulah yang akan dilakukan oleh CPU saat program kita berjalan nantinya.

## Compare and See Flag Value

Bisa anda lihat di program assembly di atas bahwa disana terdapat sebuah instruksi bernama **CMP** atau bisa kita sebut sebagai **Compare**. Dengan instruksi tersebut lah kita bisa membandingkan dua atau lebih nilai di dalam sebuah register, pointer, maupun memori di stack.

Instruksi CMP ini menggunakan ALU dalam proses komputasinya, di dalam ALU ada beberapa istilah yang akan muncul seperti *parity*, *carry-out*, *zero* dan lainya. Kita lihat lagi ke baris selanjutnya setelah instruksi CMP ada instruksi **JE** yang merupakan singkatan dari *Jump if Equal*, dimana disinilah conditional jump terjadi.

Secara singkat ada 2 instruksi yang digunakan saat kita ingin melakukan pengkondisian di x64 Assembly, yaitu **CMP** dan **JMP**. Dengan CMP 2 nilai akan dibandingkan kemudian ia akan mengisi value di EFLAGS register lalu dilanjutkan oleh JE yang akan mengecek nilai ke EFLAGS register dan melakukan pengkondisian apakah ia akan jump ke label A atau tidak.

Aduhhh pusing mas ğŸ˜µ

Oke-oke mari kita bahas satu per satu mulai dari akarnya ğŸ‘Š

## ALU & Flags Register ğŸ¤

ALU (Arithmatic Logic Unit) dan Flags Register dua unit di CPU yang tidak bisa kita pisahkan satu sama lain (ciyee) dan keduanya saling bekerjasama untuk membantu kita dalam memecahkan berbagai operasi yang maklum dilakukan oleh manusia, seperti aritmatika dan perbandingan.

Sekarang pertanyaan nya bagaiamana mereka berdua berkerjasama, jika kita ingin mengetahui hasil dari **A < B** atau **A == B** bagaimana mereka menyelesaikanya?

**Mari kita mulai.....**

Sebuah CPU pasti memiliki satu register yang bernama **FLAGS Register**, sebuah register di x64 arsitektur yang berukuran sebesar 16 bit digunakan untuk menyimpan status dari instruksi terakhir yang dieksekusi oleh CPU.

Walaupun hanya sebesar 16 bit namun register ini memiliki beberapa bagian kecil dimana masing-masing bagian tersebut sangatlah penting bagi kehidupan dan kelancaran program (busettt) :"

Dari 16 bit tersebut FLAGS register bisa kita pecah menjadi beberapa bagian kecil lagi, please look at the image below.






